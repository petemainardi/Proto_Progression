using System;
using System.Linq;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
#pragma warning disable 0649    // Variable declared but never assigned to


// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
/**
 *  Enemy type that shrinks in size every time it is bounced upon.
 */
// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
public class Shrinker : MonoBehaviour
{
    // Fields =====================================================================================
    [SerializeField, Sirenix.OdinInspector.Required]
    private BounceRegistrar BounceRegistrar;
    
    [SerializeField, Sirenix.OdinInspector.Required]
    private Transform TransformToShrink;

    [SerializeField]
    private float PercentToShrinkBy = 75;
	// ============================================================================================

	// Mono =======================================================================================
	// ----------------------------------------------------------------------------------
	void Start ()
	{
        this.BounceRegistrar.SubscribeOnBounce(_ => this.Shrink());
	}
	// ----------------------------------------------------------------------------------
	// ============================================================================================

	// Events =====================================================================================
    public void Shrink()
    {
        this.TransformToShrink.localScale =
            this.TransformToShrink.localScale * this.PercentToShrinkBy / 100;
    }
	// ============================================================================================
	
}
// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
