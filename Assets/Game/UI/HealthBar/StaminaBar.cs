using System;
using System.Linq;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UniRx;
#pragma warning disable 0649    // Variable declared but never assigned to


// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
/**
 *  Adjust a fillable image to reflect changes in a stamina value from a MovementLimiter.
 */
// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
public class StaminaBar : MonoBehaviour
{
    // Fields =====================================================================================
    [SerializeField, Sirenix.OdinInspector.Required]
    private StaminaTracker tracker;

    [SerializeField, Sirenix.OdinInspector.Required]
    private Image FillImage;
    // ============================================================================================

    // Mono =======================================================================================
    // ----------------------------------------------------------------------------------
    void Start()
    {
        if (this.tracker == null)
            Debug.LogError($"{this.NameAndID()}'s StaminaBar is missing a reference to a MovementLimiter.");

        this.tracker.StaminaPercentage
            .Subscribe((float s) => this.FillImage.fillAmount = s)
            .AddTo(this);
    }
    // ----------------------------------------------------------------------------------
    // ============================================================================================
}
// ================================================================================================
// ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
// ================================================================================================
